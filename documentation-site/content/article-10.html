<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>Bulk Rename Cameras - Eagle Eye Networks API</title>
    <style>
        
        .preview_img {
            width: 320px;
            height: 180px;
        }

        img {
            width: 100%;
            border: grey solid thin;
        }

        body {
          padding-top: 5rem;
        }

        .starter-template {
          padding: 3rem 1.5rem;
          text-align: center;
        }

        .row {
            padding-top: 10px;
            padding-bottom: 20px;
        }

        h2 {
            border-bottom: thick linen solid;
        }


    </style>
</head>
<body>
    <main role="main" class="container-fluid">
        <div class="container-fluid">
            <div class="row" id="camera_holder"></div>

            <div class="row">
                <div class="col-9 offset-1">
                    <h1>Bulk Renaming Cameras</h1>
                </div>
            </div>


            <div class="row">
                <div class="col-9 offset-1"> 
                    <p>
                        Sometimes you need to apply settings to a group of cameras.  When a camera is added in Eagle Eye VMS it is named "New Camera" by default.  I was asked to rename all these cameras and was given a spreadsheet with IP address and camera names.  The cameras had previously been used with another VMS and had been assigned static IP addresses.  It was an trivial task to get a list of cameras in the Eagle Eye VMS and match it to the spreadsheet.
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-11 offset-1">
                    <h2>Step 1: Login to the Eagle Eye API</h2>
                </div>
            </div>

            <div class="row">
                <div class="col-8 offset-1">       
                   <p>
                       The first step in working with our API is to login with your username, password and API key.  All requests to our API should include the <a href="https://apidocs.eagleeyenetworks.com/apidocs/#get-an-api-key">API key that you created</a>.  After the <a href="https://apidocs.eagleeyenetworks.com/apidocs/#authentication">Authentication</a> step, you will get a token which you will then need to pass into the <a href="https://apidocs.eagleeyenetworks.com/apidocs/#3-authorize">Authorization</a> step.  We automatically return you the user information for the user who just logged-in.
                    </p>
                </div>
                <div class="col-3"></div>
            </div>

            <div class="row">
                <div class="col-11 offset-1">
                    <h2>Step 2: Get Available Devices</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-8 offset-1">
                    <p>
                        The currently logged-in user is able to get information about what <a href="https://apidocs.eagleeyenetworks.com/apidocs/#get-list-of-cameras">devices they have been given access to</a>.  Once you had the cameras you can start the matching process.
                    </p>
                </div>
                <div class="col-3"></div>
            </div>


            <div class="row">
                <div class="col-11 offset-1">
                    <h2>Step 3: Match against the Spreadsheet</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-8 offset-1">
                    <p>
                        There are several ways to work with Excel files.  You can export is a CSV, use an offically supported library, or in our case use <a href="https://openpyxl.readthedocs.io/en/stable/">OpenPyxl</a>.
                    </p>
                    <p>
                        After you have injested the data from the spreadsheet the next thing is to iterate through it.  Any time you do this kind of ETL operation you will need to do some amount of data clean-up.  IP addresses (IPv4) are a known format so it isn't a complicated space to match on.
                    </p>
                    <p>
                        As you iterate through the cameras you can check to see if the name matches (makes the script idempotent) already or if it needs to change this camera.  Changing the actual camera name is just updating the values with a POST to `/g/device`.
                    </p>
                </div>
                <div class="col-3">
                </div>
            </div>


            <div class="row">
                <div class="col-11 offset-1">
                    <h2>Step 4: Adding tags for future organization</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-8 offset-1">
                    <p>
                        While looping through all the cameras, it is a good time to consider added additional settings on the cameras.  We allow you to tag a camera with abitrary strings to make it easier to organize your cameras.  In the included code example we are tagging these cameras with the "ORD" tag (which is the airport code for O'Hare).  In the future you could match on this tag instead of IP address.
                    </p>
                </div>
                <div class="col-3">
                </div>
            </div>

            <div class="row">
                <div class="col-11 offset-1">
                    <h2>What else can we do with this?</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-9 offset-1">
                    <p>
                        We have previously shown how to change user permissions, in this blog post we reviewed how to change camera settings.  I hope you can see how using the Eagle Eye API makes managing large systems easy.  You could use this same idea to synchronize the users and cameas with your own systems.  It can provide the bridge between Active Directory and the Eagle Eye VMS.
                    </p>
                     <p>
                        I hope you found this helpful.  If you have any questions please feel free to reach out to us at api_support@een.com
                    </p>
                </div>

            </div>
            
        </div>

    </main>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

</body>
</html>
