<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>Blinking Light on Camera Motion - Eagle Eye Networks API</title>
    <style>
        
        .preview_img {
            width: 320px;
            height: 180px;
        }

        img {
            width: 100%;
            border: grey solid thin;
        }

        body {
          padding-top: 5rem;
        }

        .starter-template {
          padding: 3rem 1.5rem;
          text-align: center;
        }

        .row {
            padding-top: 10px;
            padding-bottom: 20px;
        }

        h2 {
            border-bottom: thick linen solid;
        }


    </style>
</head>
<body>
    <main role="main" class="container-fluid">
        <div class="container-fluid">
            <div class="row" id="camera_holder"></div>

            <div class="row">
                <div class="col-9 offset-1">
                    <h1>Blinking Light on Camera Motion</h1>
                </div>
            </div>


            <div class="row">
                <div class="col-9 offset-1"> 
                    <p>
                        <video controls style="width:100%; height:500px; min-height:400px;">
                            <source src="images/EE-blinker.mp4" type="video/mp4">
                            <p>Your browser doesn't support HTML5 video. Here is a <a href="images/EE-blinker.mp4">link to the video</a> instead.</p>
                        </video>
                        <!-- <iframe style="width:100%; height:500px; min-height:400px;" src="https://www.youtube.com/embed/dQq4EPSQkS0" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
                    </p>
                    <p>
                        This is a quick video on how to blink a light when an Eagle Eye camera detects motion.  There are plenty of ways to do this, and this is just the way I decided based on what I had available on my desk.
                        </p>


                        <p>
                        I used the following parts:
                        <ul>
                            <li>Raspberry Pi 2B</li>
                            <li>Arduino Uno</li>
                            <li>one red LED</li>
                            <li>3D printed Eagle Eye logo</li>
                            <li><a href="https://github.com/EENCloud/API-Documentation/tree/master/EE-blinker">EE-blinker</a> that runs on the Raspberry Pi</li>
                            <li><a href="https://github.com/EENCloud/API-Documentation/tree/master/EE-blinker/tree/master/blink_sketch">blink_sketch</a> that runs on the Arduino</li>
                        </ul>
                        </p>

                        <p>
                        The Arduino was configured with the red LED on pin 13.  The sketch looks for serial communication (over the USB port from the Raspberry Pi) of an ASCII character.  If the character is '1' then it turns on, if it is '2' then it turns off.
                        </p>

                        <p>
                        As an aside, why didn't I make it 1 or 0?  Because originally I was planning on having multiple states and the states did a sequence of things.
                        </p>


                        <p>
                        The Raspberry Pi is just running a Node.js program and it could be replace by any other computer.  The program itself could also be replaced with any other language to subscribe to the Eagle Eye API.
                        </p>

                        <p>
                        You can see the code for the entire project <a href="https://github.com/EENCloud/API-Documentation/tree/master/EE-blinker">here</a>.  Make sure to read the README file and follow the instructions to create an appropriate `config.js` file.  It also contains the correct serial port for connecting to the Arduino so make sure you have that correct.
                        </p>
                </div>
            </div>

            <div class="row">
                <div class="col-8 offset-1">       
                   <p>
                       
                    </P>
                </div>
                <div class="col-3"></div>
            </div>


            <div class="row">
                <div class="col-11 offset-1">
                    <h2>What else can we do with this?</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-9 offset-1">
                    <p>
                    The above example is listening for motion events.  Specifically it is listening for <a href="https://apidocs.eagleeyenetworks.com/apidocs/#event-objects">ROMS and ROME events</a> (ROI motion start, ROI motion end).  It could easily be adapted to use other events.
                    </p>

                    <p>
                    If you are monitoring for status changes (camera online/offline, recording on/off, streaming on/off) you most likely want to listen the <a href="https://apidocs.eagleeyenetworks.com/apidocs/#status-bitmask"> status bitmask</a> directly.  The events are delayed because we go through our own internal heuristics to filter out false positives.
                    </p>

                    <p>
                    You can find an example of subscribing to the poll stream, getting the status bitmask, and parsing it in this <a href="https://github.com/EENCloud/API-Documentation/tree/master/EE-API-examples/blob/master/Listen_for_status_changes.py">example project</a>.
                    </p>

                    <p>
                        I hope you found this helpful.  If you have any questions please feel free to reach out to us at api_support@een.com
                    </p>
                
                </div>

            </div>
            
        </div>

    </main>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

</body>
</html>
